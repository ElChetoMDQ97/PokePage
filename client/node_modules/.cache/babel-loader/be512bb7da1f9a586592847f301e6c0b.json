{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _actionCreators = _interopRequireDefault(require(\"../actionCreators.js\"));\n\nvar _types = require(\"../types\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar updatePlaylistHelper = function updatePlaylistHelper(store) {\n  return function (next) {\n    return function (action) {\n      if (action.type !== _types.ActionTypes.UPDATE_PLAYLIST) return next(action); // store prev playlist and new playlist\n\n      var _store$getState = store.getState(),\n          playlist = _store$getState.playlist,\n          currentTrack = _store$getState.currentTrack;\n\n      var newPlaylist = action.payload.playlist; // update state with new playlist\n\n      var result = next(action); // check if playlist changed\n\n      var playlistChanged = false;\n      if (newPlaylist.length !== playlist.length) playlistChanged = true;else for (var i = 0; i < playlist.length; i++) {\n        if (newPlaylist[i].ID !== playlist[i].ID) {\n          playlistChanged = true;\n          break;\n        }\n      } // if playlist changed look for current track\n\n      if (playlistChanged) {\n        var newCurrentTrack = -1;\n\n        for (var _i = 0; _i < newPlaylist.length; _i++) {\n          if (newPlaylist[_i].ID === playlist[currentTrack].ID) {\n            newCurrentTrack = _i;\n            break;\n          }\n        } // if not found then its completely playlist, update current track to 0\n\n\n        if (newCurrentTrack === -1) store.dispatch(_actionCreators.default.changeTrack(0));else store.dispatch(_actionCreators.default.changeTrack(newCurrentTrack)); // else update current track\n      }\n\n      return result;\n    };\n  };\n};\n\nvar _default = updatePlaylistHelper;\nexports.default = _default;","map":{"version":3,"names":["Object","defineProperty","exports","value","default","_actionCreators","_interopRequireDefault","require","_types","obj","__esModule","updatePlaylistHelper","store","next","action","type","ActionTypes","UPDATE_PLAYLIST","_store$getState","getState","playlist","currentTrack","newPlaylist","payload","result","playlistChanged","length","i","ID","newCurrentTrack","_i","dispatch","changeTrack","_default"],"sources":["C:/Users/Juan/Desktop/Programacion/Henry/repositorios/Proyecto Individual/PI-Pokemon-main/client/node_modules/react-material-music-player/dist/redux/middleware/updatePlaylistHelper.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _actionCreators = _interopRequireDefault(require(\"../actionCreators.js\"));\n\nvar _types = require(\"../types\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar updatePlaylistHelper = function updatePlaylistHelper(store) {\n  return function (next) {\n    return function (action) {\n      if (action.type !== _types.ActionTypes.UPDATE_PLAYLIST) return next(action); // store prev playlist and new playlist\n\n      var _store$getState = store.getState(),\n          playlist = _store$getState.playlist,\n          currentTrack = _store$getState.currentTrack;\n\n      var newPlaylist = action.payload.playlist; // update state with new playlist\n\n      var result = next(action); // check if playlist changed\n\n      var playlistChanged = false;\n      if (newPlaylist.length !== playlist.length) playlistChanged = true;else for (var i = 0; i < playlist.length; i++) {\n        if (newPlaylist[i].ID !== playlist[i].ID) {\n          playlistChanged = true;\n          break;\n        }\n      } // if playlist changed look for current track\n\n      if (playlistChanged) {\n        var newCurrentTrack = -1;\n\n        for (var _i = 0; _i < newPlaylist.length; _i++) {\n          if (newPlaylist[_i].ID === playlist[currentTrack].ID) {\n            newCurrentTrack = _i;\n            break;\n          }\n        } // if not found then its completely playlist, update current track to 0\n\n\n        if (newCurrentTrack === -1) store.dispatch(_actionCreators.default.changeTrack(0));else store.dispatch(_actionCreators.default.changeTrack(newCurrentTrack)); // else update current track\n      }\n\n      return result;\n    };\n  };\n};\n\nvar _default = updatePlaylistHelper;\nexports.default = _default;"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAC3CC,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,OAAR,GAAkB,KAAK,CAAvB;;AAEA,IAAIC,eAAe,GAAGC,sBAAsB,CAACC,OAAO,CAAC,sBAAD,CAAR,CAA5C;;AAEA,IAAIC,MAAM,GAAGD,OAAO,CAAC,UAAD,CAApB;;AAEA,SAASD,sBAAT,CAAgCG,GAAhC,EAAqC;EAAE,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;IAAEL,OAAO,EAAEK;EAAX,CAArC;AAAwD;;AAE/F,IAAIE,oBAAoB,GAAG,SAASA,oBAAT,CAA8BC,KAA9B,EAAqC;EAC9D,OAAO,UAAUC,IAAV,EAAgB;IACrB,OAAO,UAAUC,MAAV,EAAkB;MACvB,IAAIA,MAAM,CAACC,IAAP,KAAgBP,MAAM,CAACQ,WAAP,CAAmBC,eAAvC,EAAwD,OAAOJ,IAAI,CAACC,MAAD,CAAX,CADjC,CACsD;;MAE7E,IAAII,eAAe,GAAGN,KAAK,CAACO,QAAN,EAAtB;MAAA,IACIC,QAAQ,GAAGF,eAAe,CAACE,QAD/B;MAAA,IAEIC,YAAY,GAAGH,eAAe,CAACG,YAFnC;;MAIA,IAAIC,WAAW,GAAGR,MAAM,CAACS,OAAP,CAAeH,QAAjC,CAPuB,CAOoB;;MAE3C,IAAII,MAAM,GAAGX,IAAI,CAACC,MAAD,CAAjB,CATuB,CASI;;MAE3B,IAAIW,eAAe,GAAG,KAAtB;MACA,IAAIH,WAAW,CAACI,MAAZ,KAAuBN,QAAQ,CAACM,MAApC,EAA4CD,eAAe,GAAG,IAAlB,CAA5C,KAAwE,KAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGP,QAAQ,CAACM,MAA7B,EAAqCC,CAAC,EAAtC,EAA0C;QAChH,IAAIL,WAAW,CAACK,CAAD,CAAX,CAAeC,EAAf,KAAsBR,QAAQ,CAACO,CAAD,CAAR,CAAYC,EAAtC,EAA0C;UACxCH,eAAe,GAAG,IAAlB;UACA;QACD;MACF,CAjBsB,CAiBrB;;MAEF,IAAIA,eAAJ,EAAqB;QACnB,IAAII,eAAe,GAAG,CAAC,CAAvB;;QAEA,KAAK,IAAIC,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGR,WAAW,CAACI,MAAlC,EAA0CI,EAAE,EAA5C,EAAgD;UAC9C,IAAIR,WAAW,CAACQ,EAAD,CAAX,CAAgBF,EAAhB,KAAuBR,QAAQ,CAACC,YAAD,CAAR,CAAuBO,EAAlD,EAAsD;YACpDC,eAAe,GAAGC,EAAlB;YACA;UACD;QACF,CARkB,CAQjB;;;QAGF,IAAID,eAAe,KAAK,CAAC,CAAzB,EAA4BjB,KAAK,CAACmB,QAAN,CAAe1B,eAAe,CAACD,OAAhB,CAAwB4B,WAAxB,CAAoC,CAApC,CAAf,EAA5B,KAAwFpB,KAAK,CAACmB,QAAN,CAAe1B,eAAe,CAACD,OAAhB,CAAwB4B,WAAxB,CAAoCH,eAApC,CAAf,EAXrE,CAW2I;MAC/J;;MAED,OAAOL,MAAP;IACD,CAlCD;EAmCD,CApCD;AAqCD,CAtCD;;AAwCA,IAAIS,QAAQ,GAAGtB,oBAAf;AACAT,OAAO,CAACE,OAAR,GAAkB6B,QAAlB"},"metadata":{},"sourceType":"script"}