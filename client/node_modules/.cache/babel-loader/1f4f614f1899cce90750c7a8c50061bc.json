{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _TemplateContainer = _interopRequireDefault(require(\"./TemplateContainer\"));\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2[\"default\"])(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2[\"default\"])(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar MoveContainer = /*#__PURE__*/function (_React$Component) {\n  (0, _inherits2[\"default\"])(MoveContainer, _React$Component);\n\n  var _super = _createSuper(MoveContainer);\n\n  function MoveContainer() {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, MoveContainer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_templateContainer\", /*#__PURE__*/React.createRef());\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_el\", /*#__PURE__*/React.createRef());\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_dragHandleProps\", _this.props.makeDragHandleProps(function () {\n      return _this.props.y;\n    }));\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(MoveContainer, [{\n    key: \"getDOMNode\",\n    value: function getDOMNode() {\n      return this._el.current;\n    }\n  }, {\n    key: \"getTemplate\",\n    value: function getTemplate() {\n      return this._templateContainer.current.getTemplate();\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      return this.props.anySelected !== nextProps.anySelected || this.props.itemSelected !== nextProps.itemSelected || this.props.item !== nextProps.item || this.props.template !== nextProps.template || this.props.y !== nextProps.y || this.props.height !== nextProps.height || this.props.zIndex !== nextProps.zIndex || this.props.commonProps !== nextProps.commonProps;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          item = _this$props.item,\n          y = _this$props.y,\n          padding = _this$props.padding,\n          itemSelected = _this$props.itemSelected,\n          anySelected = _this$props.anySelected,\n          height = _this$props.height,\n          zIndex = _this$props.zIndex,\n          template = _this$props.template,\n          commonProps = _this$props.commonProps;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        ref: this._el,\n        style: {\n          position: y == null ? 'relative' : 'absolute',\n          boxSizing: 'border-box',\n          left: '0px',\n          right: '0px',\n          top: y == null ? '0px' : \"\".concat(y, \"px\"),\n          marginBottom: \"\".concat(padding, \"px\"),\n          height: y == null ? 'auto' : \"\".concat(anySelected * (height.drag - height.natural) + height.natural, \"px\"),\n          zIndex: zIndex\n        }\n      }, /*#__PURE__*/React.createElement(_TemplateContainer[\"default\"], {\n        ref: this._templateContainer,\n        item: item,\n        template: template,\n        itemSelected: itemSelected,\n        anySelected: anySelected,\n        dragHandleProps: this._dragHandleProps,\n        commonProps: commonProps\n      }));\n    }\n  }]);\n  return MoveContainer;\n}(React.Component);\n\nexports[\"default\"] = MoveContainer;\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAoBqBA,a;;;;;;;;;;;;;;;wHAMjBC,KAAK,CAACC,SAAND;yGACqBA,KAAK,CAACC,SAAND;yGAuBIE,MAAKC,KAAL,CAAWC,mBAAX,CAA+B;MAAA,OAAMF,MAAKC,KAAL,CAAWE,CAAjB;IAA/B;;;;;;WArB3B,sBAA0B;MACxB,OAAO,KAAKC,GAAL,CAASC,OAAhB;IACD;;;WAED,uBAAiB;MACf,OAAO,KAAKC,kBAAL,CAAwBD,OAAxB,CAAiCE,WAAjC,EAAP;IACD;;;WAED,+BAAsBC,SAAtB,EAA0D;MACxD,OACE,KAAKP,KAAL,CAAWQ,WAAX,KAA2BD,SAAS,CAACC,WAArC,IACA,KAAKR,KAAL,CAAWS,YAAX,KAA4BF,SAAS,CAACE,YADtC,IAEA,KAAKT,KAAL,CAAWU,IAAX,KAAoBH,SAAS,CAACG,IAF9B,IAGA,KAAKV,KAAL,CAAWW,QAAX,KAAwBJ,SAAS,CAACI,QAHlC,IAIA,KAAKX,KAAL,CAAWE,CAAX,KAAiBK,SAAS,CAACL,CAJ3B,IAKA,KAAKF,KAAL,CAAWY,MAAX,KAAsBL,SAAS,CAACK,MALhC,IAMA,KAAKZ,KAAL,CAAWa,MAAX,KAAsBN,SAAS,CAACM,MANhC,IAOA,KAAKb,KAAL,CAAWc,WAAX,KAA2BP,SAAS,CAACO,WARvC;IAUD;;;WAID,kBAAS;MACP,kBAUI,KAAKd,KAVT;MAAA,IACEU,IADF,eACEA,IADF;MAAA,IAEER,CAFF,eAEEA,CAFF;MAAA,IAGEa,OAHF,eAGEA,OAHF;MAAA,IAIEN,YAJF,eAIEA,YAJF;MAAA,IAKED,WALF,eAKEA,WALF;MAAA,IAMEI,MANF,eAMEA,MANF;MAAA,IAOEC,MAPF,eAOEA,MAPF;MAAA,IAQEF,QARF,eAQEA,QARF;MAAA,IASEG,WATF,eASEA,WATF;MAYA,oBACEjB;QACEmB,GAAG,EAAE,KAAKb,GADZ;QAEEc,KAAK,EAAE;UACLC,QAAQ,EAAEhB,CAAC,IAAI,IAALA,GAAa,UAAbA,GAAqC,UAD1C;UAELiB,SAAS,EAAE,YAFN;UAGLC,IAAI,EAAE,KAHD;UAILC,KAAK,EAAE,KAJF;UAKLC,GAAG,EAAEpB,CAAC,IAAI,IAALA,GAAY,KAAZA,aAAuBA,CAAvB,OALA;UAMLqB,YAAY,YAAKR,OAAL,OANP;UAOLH,MAAM,EACJV,CAAC,IAAI,IAALA,GACI,MADJA,aAGMM,WAAW,IAAII,MAAM,CAACY,IAAPZ,GAAcA,MAAM,CAACa,OAAzB,CAAXjB,GAA+CI,MAAM,CAACa,OAH5D,OARG;UAaLZ,MAAM,EAANA;QAbK;MAFT,gBAkBEhB,oBAAC6B,6BAAD;QACEV,GAAG,EAAE,KAAKX,kBADZ;QAEEK,IAAI,EAAEA,IAFR;QAGEC,QAAQ,EAAEA,QAHZ;QAIEF,YAAY,EAAEA,YAJhB;QAKED,WAAW,EAAEA,WALf;QAMEmB,eAAe,EAAE,KAAKC,gBANxB;QAOEd,WAAW,EAAEA;MAPf,EAlBF,CADF;IA8BD;;;EAvEOjB,KAAK,CAACgC,S","names":["MoveContainer","React","createRef","_this","props","makeDragHandleProps","y","_el","current","_templateContainer","getTemplate","nextProps","anySelected","itemSelected","item","template","height","zIndex","commonProps","padding","ref","style","position","boxSizing","left","right","top","marginBottom","drag","natural","_TemplateContainer","dragHandleProps","_dragHandleProps","Component"],"sources":["../../src/MoveContainer.tsx"],"sourcesContent":["import * as React from 'react';\nimport TemplateContainer from './TemplateContainer';\n\nexport interface HeightData {\n  natural: number;\n  drag: number;\n}\n\ninterface Props<I, C, T> {\n  item: I;\n  template: new (props: any, context?: any) => T;\n  padding: number;\n  y: number | undefined;\n  itemSelected: number;\n  anySelected: number;\n  height: HeightData;\n  zIndex: React.CSSProperties['zIndex'];\n  makeDragHandleProps: (getY: () => number | undefined) => object;\n  commonProps: C;\n}\n\nexport default class MoveContainer<\n  I,\n  C,\n  T extends React.Component<any, any>\n> extends React.Component<Props<I, C, T>> {\n  private readonly _templateContainer =\n    React.createRef<TemplateContainer<I, C, T>>();\n  private readonly _el = React.createRef<HTMLDivElement>();\n\n  getDOMNode(): HTMLElement {\n    return this._el.current!;\n  }\n\n  getTemplate(): T {\n    return this._templateContainer.current!.getTemplate();\n  }\n\n  shouldComponentUpdate(nextProps: Props<I, C, T>): boolean {\n    return (\n      this.props.anySelected !== nextProps.anySelected ||\n      this.props.itemSelected !== nextProps.itemSelected ||\n      this.props.item !== nextProps.item ||\n      this.props.template !== nextProps.template ||\n      this.props.y !== nextProps.y ||\n      this.props.height !== nextProps.height ||\n      this.props.zIndex !== nextProps.zIndex ||\n      this.props.commonProps !== nextProps.commonProps\n    );\n  }\n\n  private _dragHandleProps = this.props.makeDragHandleProps(() => this.props.y);\n\n  render() {\n    const {\n      item,\n      y,\n      padding,\n      itemSelected,\n      anySelected,\n      height,\n      zIndex,\n      template,\n      commonProps,\n    } = this.props;\n\n    return (\n      <div\n        ref={this._el}\n        style={{\n          position: y == null ? ('relative' as const) : ('absolute' as const),\n          boxSizing: 'border-box' as const,\n          left: '0px',\n          right: '0px',\n          top: y == null ? '0px' : `${y}px`,\n          marginBottom: `${padding}px`,\n          height:\n            y == null\n              ? 'auto'\n              : `${\n                  anySelected * (height.drag - height.natural) + height.natural\n                }px`,\n          zIndex,\n        }}\n      >\n        <TemplateContainer\n          ref={this._templateContainer}\n          item={item}\n          template={template}\n          itemSelected={itemSelected}\n          anySelected={anySelected}\n          dragHandleProps={this._dragHandleProps}\n          commonProps={commonProps}\n        />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"script"}